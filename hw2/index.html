<html>
	<head>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=default'></script>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
		<style>
			h1 {
				text-align: center;
			}

			.container {
				margin: 0 auto;
				padding: 60px 20%;
			}

			figure {
				text-align: center;
			}

			img {
				display: inline-block;
			}

			body {
				font-family: 'Inter', sans-serif;
			}
		</style>
	</head>
	<body>
		<div class="container">
		<h1>CS184/284A Spring 2025 Homework 2 Write-Up</h1>
		<div style="text-align: center;">Name: Cashus Puhvel</div>

		<br>

		Link to webpage: <a href="https://cal-cs184-student.github.io/hw-webpages-cashman/">https://cal-cs184-student.github.io/hw-webpages-cashman/</a>

		<br>
		
		Link to GitHub repository: <a href="https://github.com/cal-cs184-student/sp25-hw2-brah">https://github.com/cal-cs184-student/sp25-hw2-brah</a>

		<figure>
			<img src="teapot.png" alt="Teapot" style="width:50%"/>
			<figcaption>You can add images with captions!</figcaption>
		</figure>

		<!--
		We've already added one heading per part, to make your write-up as navigable when grading. Please fit your write-up within these sections!
		-->

		<h2>Overview</h2>
		Give a high-level overview of what you implemented in this homework. Think about what you've built as a whole. Share your thoughts on what interesting things you've learned from completing the homework.


		<h2>Section I: Bezier Curves and Surfaces</h2>

		<h3>Part 1: Bezier curves with 1D de Casteljau subdivision</h3>
		de Casteljau’s algorithm takes a set of points that define a Bezier curve and repeatedly uses linear interpolation to generate smaller sets of points until there is one point left. The final point lies on the Bezier curve. The parameter <code>t</code> that is used in de Casteljau’s algorithm is in the range [0, 1] and determines where on the Bezier curve the final point lies. If you have a two points p1 and p2, a new point, p3, can calculated with the equation p3 = ((1 - t) * p1) + (t * p2). <code>evaluateStep</code> uses de Casteljau’s algorithm to take a set of points and to execute one step of de Casteljau’s algorithm to the points, returning the newly updated points. 

		<p>Steps for creating Bezier Curve:</p>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="/writeupimages/part1/1.png" width="400px"/>
				  <figcaption>First 6 control points</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="/writeupimages/part1/2.png" width="400px"/>
				  <figcaption>1st step of de Casteljau's algorithm</figcaption>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="/writeupimages/part1/3.png" width="400px"/>
				  <figcaption>2nd step</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="/writeupimages/part1/4.png" width="400px"/>
				  <figcaption>3rd step</figcaption>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="/writeupimages/part1/5.png" width="400px"/>
				  <figcaption>4th step</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="/writeupimages/part1/6.png" width="400px"/>
				  <figcaption>5th step (final point)</figcaption>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="/writeupimages/part1/7.png" width="400px"/>
				  <figcaption>Completed Bezier curve</figcaption>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="/writeupimages/part1/onlycurve.png" width="400px"/>
				  <figcaption>Bezier curve without intermediate control points</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="/writeupimages/part1/mycurve.png" width="400px"/>
				  <figcaption>Modified curve</figcaption>
				</td>
			  </tr>
			</table>
		</div>


		<p>As you can see, each new point lies somewhere on the line that connects the other two points, and if t is 0 or 1, then the new point is directly on one of the old points.</p> 

		<h3>Part 2: Bezier surfaces with separable 1D de Casteljau</h3>
		de Casteljau’s algorithm can be extended to Bezier surfaces with the same approach that is used for curves, but done twice. To implement this, I used de Casteljau’s algorithm down each row and then down the columns of the control points, finally returning a single point on the Bezier surface. I first reduced each row of the control points to a single point with the function <code>evaluate1D</code>, which repeatedly calls the <code>Vector3D</code> version of <code>evaluateStep</code> along the values in one row, returning the one point that is left. In the function <code>evaluate</code>, I call <code>evaluate1D</code> on all of the rows in the control points first, with parameter <code>u</code>, and I call <code>evaluate1D</code> again on the resulting list of points from the rows, with parameter <code>v</code>. I assigned the first call to an intermediate variable <code>x</code> and then the last call of <code>evaluate1D</code> is returned as the final point. 

		<figure>
			<img src="/writeupimages/part2/teapot.png" alt="teapot" style="width:50%"/>
			<figcaption>teapot.bez with Bezier surfaces</figcaption>
		</figure>


		<h2>Section II: Triangle Meshes and Half-Edge Data Structure</h2>

		<h3>Part 3: Area-weighted vertex normals</h3>
		I implemented the area-weighted vertex normals in the function <code>normal</code> by creating a vector <code>a</code> with the values (0, 0, 0), getting the starting halfedge for the vertex and storing it in <code>s</code> and in <code>h</code> for iteration, checking to see if the halfedge is a valid halfedge, and then looping through the faces of the halfedge. As the function loops, if a face is not a boundary face <code>he</code> is assigned to one halfedge of the face, and p0, p1, and p2 are assigned to the three vertices. A new Vector3D <code>fn</code> is then assigned to the cross product of the two edge vectors. <code>fn</code> is now the face normal, and it is added to <code>a</code>. <code>h</code> is updated to go to the next halfedge around the vertex, and if the loop has run back to the start, it breaks. The function then returns the vector <code>a.unit()</code>, with the <code>.unit</code> method to scale the vector to unit length. 

		<p>Mesh with and without vertex normals:</p>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="/writeupimages/part3/not.png" width="400px"/>
				  <figcaption>teapot.dae without area-weighted vertex normals</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="/writeupimages/part3/smooth.png" width="400px"/>
				  <figcaption>teapot.dae with area-weighted vertex normals</figcaption>
				</td>
			  </tr>
			</table>
		</div>

		<h3>Part 4: Edge flip</h3>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h3>Part 5: Edge split</h3>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h3>Part 6: Loop subdivision for mesh upsampling</h3>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>(Optional) Section III: Potential Extra Credit - Art Competition: Model something Creative</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Additional Notes (please remove)</h2>
		<ul>
			<li>You can also add code if you'd like as so: <code>code code code</code></li>
			<li>If you'd like to add math equations, 
				<ul>
					<li>You can write inline equations like so: \( a^2 + b^2 = c^2 \)</li>
					<li>You can write display equations like so: \[ a^2 + b^2 = c^2 \]</li>
				</ul>
			</li>
		</ul>
		</div>
	</body>
</html>